# DDD 1장

## 1-1. 도메인이란?
- `도메인`은 소프트웨어로 해결하고자 하는 문제 영역으로 여러개의 `하위 도메인` 로 구성될 수 있다.
- `도메인`의 모든 기능 구현을 직접 구현하는것이 아니라 외부 업체 (API나 뭐 그런거..)로 붙일 수 있다. 즉, `우리의 소프트웨어가 도메인의 모든 영역을 커버하는것`은 아님.

## 1-2. 도메인 전문가와 개발자 간 지식 공유
- 무엇보다 `요구사항`의 올바른 이해가 필요.
- 도메인 전문가, 개발자, 관리자 등 모든 이해관계자가 `도메인 지식` 갖출 필요 있음.
- 결국 상호간 올바른 도메인 지식이 갖춰져야 개발, 유지보수, 이용 등이 가능해지는 것.

## 1-3. 도메인 모델
- `도메인 모델`은 도메인 자체를 이해하기 위한 개념 모델. 개념 모델 != 구현 모델이지만, 구현 단계에서 최대한 개념 모델을 따르게 할 수 있음.
- `도메인 모델`을 나타내는 다양한 방법 존재 (객체 기반 ERD나, 클래스 다이어그램, 상태 다이어그램 등)
- 뭐가 맞다 틀리다가 아닌 그 도메인을 이해하는데 쉬운걸 사용하면 됨.

## 1-4. 도메인 모델 패턴
- **위의 도메인 모델이랑 다른 얘기임. 여기서는 "도메인 계층을 구현할 때 사용하는 객체 모델" 이라는 정의임.**

### 일반적인(??) 어플리케이션의 아키텍쳐 구조
- `표현(Presentation) or 사용자 인터페이스(UI) 계층` - 사용자의 요청을 처리하고 정보를 보여주는, MVC 패턴에서 Controller에 해당하는 영역
- `응용(Application) 계층` - 사용자가 요청한 기능을 실행하는, MVC에서 Service에 해당하는 영역
- `도메인 계층` - 시스템이 제공할 도메인 규칙을 담은 영역
- `인프라(Infrastructure) 계층` - 데이터베이스나 메세징 큐 등 외부 시스템 연동 영역

여기서 핵심은, 도메인 계층에서 `도메인의 핵심 규칙`을 구현한다. 도메인 규칙(구매를 하면 addOrder를 한다던지..)을 응용(Service)에서 박아놓는게 아니란 소리이다.

## 1-5. 도메인 모델 도출
- 1-2 단원처럼 열심히 도메인 지식을 익혔다면, 그런 `유즈케이스+기획+사용자 스토리`를 바탕으로 도메인 모델을 도출하는 방법.
- 핵심 구성요소, 규칙, 기능을 요구사항에서 찾는게 필요함.
- 책에서 이르길, "화이트보드나 위키"등을 사용해 `이해관계자들이 다같이` 도메인 모델을 논의하는게 좋다고 함.
- 열심히 도출했으면 막 짜는거 전에, 문서화(위에 저 화이트보드나 위키)를 하고, 코드도 가독성 높게 누구나 보고 이 도메인에 대해 이해할 수 있게 짜야한다.

## 1-6. 엔티티와 밸류
- `엔티티`는 식별자를 가지고... (정의 어디갔어)
- `밸류`는 개념적으로 완전한 하나를 표현할때 엔티티의 필드로서 활용. Address마냥 여러개의 속성을 가지지 않고 Money처럼 딱 하나의 필드만 들더라도, 개념적으로 `int price = 0;` 보다는 `Money m = new Money(0);`이 이해도 쉽고 나중에 저 변수를 건드릴때 따로 빼기도 쉽다.. 그런 느낌
- `도메인 모델`에 setter 넣지 않기. `order.cancel()` 함수가 직접 뭐 Status를 Cancelled로 바꾸게끔 해야지, `setStatus()` 함수를 만들어서, 그 상태가 바뀐다는 도메인 상황을 밖으로 전파시키면 복잡해진다~ 

## 1-7. 도메인 용어와 유비쿼터스 언어
- 말 그대로 코드의 enum같은걸 누구나 알기 쉬운걸 쓰자는 얘기.
- `enum OrderStatus { STEP_1, STEP_2; }` ㄴㄴ.
- `enum OrderStatus { DELIVERED, PAYMENT_SUCCEED; }` ㅇㅇ.
- 필드명도 뭔가 영어로 바꾸기 어려우면 구분같은 단어 gubun으로 박기도 함.
- 결국, 너도나도 이해할 수 있는(1-2챕터 연장선) 코드를 짜고 용어를 쓰자! = `유비쿼터스 언어`
- 여담으로 토스같은 경우에 "훈민정음 프로젝트"라고,, 필드명을 한글로 박자는 프로젝트가 진행된 적 있다. https://tosspayments-dev.oopy.io/chapters/frontend/posts/hangul-coding-convention