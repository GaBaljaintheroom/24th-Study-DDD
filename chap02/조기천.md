---
marp: true
---

# 2. 아키텍처 개요

## 2.1 네 개의 영역

- 표현 영역 : 사용자의 요청을 받아서 해석하는 역할
- 응용 영역 : 실제 사용자가 원하는 기능을 제공하는 영역
- 도메인 영역: 도메인 모델을 구현
- 인프라스트럭쳐 영역: 구현 기술에 대한 것. (RDBMS, Kafka)


## 2.2 계층 구조 아키텍처

**계층구조**

- 상위 계층에서 하위 계층으로의 의존만 존재
- 하위 계층은 상위 계층에 의존하지 않음

**→ 하위 계층에 종속된다는 문제**

- 테스트의 어려움
- 기능 확장의 어려움


## 2.3 DIP

고수준의 모듈이 제대로 동작하려면 저수준 모듈을 사용해야된다.

**하위 계층에 종속문제를 해결하기 위해 DIP를 사용**

→ 추상화한 인터페이스를 이용

DIP를 적용하면 

- 저수준 모듈이 고수준모듈에 의존하게 된다.
- 하위 기능을 추상화한 인터페이스는 고수쥰 모듈 관점에서 도출된다


## 2.4 도메인 영역의 주요 구성요소

도메인 모델 vs DB 관계형 모델

- 도메인 모델의 엔티티는 데이터 + 도메인 기능
- 도메인 모델은 두 개 이상의 데이터가 개념적으로 하나일 경우, 벨류 타입으로 표현이 가능
- DB 관계형 모델은 벨류를 제대로 표현하기 힘들다


### 에그리거트

도메인 모델을 개별 모델로 보지말고 하나의 객체 군집 단위로 묶은 것.

→ 상위 수준에서 모델을 봐야 전체 모델과 개별 모델간의 이해에 도움이 됨

→ 큰 틀에서 도메인 모델을 관리 가능

그러나 애그리거트는 고려할 점이 많다

- 구현의 복잡성
- 트랜잭션 범위
- 기술에 따른 제약

## 2.5 요청 처리 흐름

## 2.6 인프라스트럭처 개요

구현의 편리함은 정말 중요하다

- @Transactional 은 복잡하게 구현해야될 트랜잭션 처리를 
  AOP로 간단하게 처리 가능


## 2.7 모듈 구성

- 모듈 구조는 규칙이 없다
- 많이 몰려있으면 분리를 하자
- 한 패키지에 가능하면 10~15개 미만으로 타입 개수를 유지해보자.